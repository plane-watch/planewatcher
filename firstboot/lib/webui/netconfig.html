<!DOCTYPE html>
<html>
<body>

<h2>Network Config</h2>

<form action="/"">
  {{ range $if_name, $if_config := .Netplan.Network.Ethernets }}
  <fieldset>
    <label>Interface: {{ $if_name }}</label><br>

      <fieldset>
        <label>IPv4</label><br>
        <input type="radio" id="dhcpv4" name="ipv4.method" value="DHCP"{{ if $if_config.DHCP4 }} checked="checked"{{end}}>
        <label for="dhcpv4">DHCP</label><br>
        <input type="radio" id="manualv4" name="ipv4.method" value="Manual"{{ if not $if_config.DHCP4 }} checked="checked"{{end}}>
        <label for="manualv4">Manual</label><br>

        <label for="ipv4addr">Address</label>
        <input type="text" id="ipv4addr" name="ipv4.address" value="{{with (index $.Interface $if_name)}}{{.IPv4Addr}}{{end}}"><br>
        <label for="ipv4mask">Netmask</label>
        <input type="text" id="ipv4mask" name="ipv4.netmask" value="{{with (index $.Interface $if_name)}}{{.IPv4Mask}}{{end}}"><br>
        <label for="ipv4gw">Gateway</label>
        <input type="text" id="ipv4gw" name="ipv4.gateway" value="{{with (index $.Interface $if_name)}}{{.IPv4Gateway}}{{end}}"><br>

      </fieldset>
  </fieldset>
  {{ end }}
  <input type="submit" value="Submit">
</form>
</body>
</html>
